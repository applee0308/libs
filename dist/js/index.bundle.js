!function(A){"use strict";var e=document,t="querySelectorAll",n="getElementsByClassName",r=function(A){return e[t](A)},i={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:!0},o={extend:function(A){var e=JSON.parse(JSON.stringify(i));for(var t in A)e[t]=A[t];return e},timer:{},end:{}};o.touch=function(A,e){var t;return/Android|iPhone|SymbianOS|Windows Phone|iPad|iPod/.test(navigator.userAgent)?(A.addEventListener("touchmove",function(){t=!0},!1),void A.addEventListener("touchend",function(A){A.preventDefault(),t||e.call(this,A),t=!1},!1)):A.addEventListener("click",function(A){e.call(this,A)},!1)};var a=0,d=["layermbox"],s=function(A){var e=this;e.config=o.extend(A),e.view()};s.prototype.view=function(){var A=this,t=A.config,i=e.createElement("div");A.id=i.id=d[0]+a,i.setAttribute("class",d[0]+" "+d[0]+(t.type||0)),i.setAttribute("index",a);var o=function(){var A="object"==typeof t.title;return t.title?'<h3 style="'+(A?t.title[1]:"")+'">'+(A?t.title[0]:t.title)+'</h3><button class="layermend"></button>':""}(),s=function(){var A,e=(t.btn||[]).length;return 0!==e&&t.btn?(A='<span type="1">'+t.btn[0]+"</span>",2===e&&(A='<span type="0">'+t.btn[1]+"</span>"+A),'<div class="layermbtn">'+A+"</div>"):""}();if(t.fixed||(t.top=t.hasOwnProperty("top")?t.top:100,t.style=t.style||"",t.style+=" top:"+(e.body.scrollTop+t.top)+"px"),2===t.type&&(t.content="<i></i><i></i><i></i>"),i.innerHTML=(t.shade?"<div "+("string"==typeof t.shade?'style="'+t.shade+'"':"")+' class="laymshade"></div>':"")+'<div class="layermmain" '+(t.fixed?"":'style="position:static;"')+'><div class="section"><div class="layermchild '+(t.className?t.className:"")+" "+(t.type||t.shade?"":"layermborder ")+(t.anim?"layermanim":"")+'" '+(t.style?'style="'+t.style+'"':"")+">"+o+'<div class="layermcont">'+t.content+"</div>"+s+"</div></div></div>",!t.type||2===t.type){var l=e[n](d[0]+t.type),c=l.length;c>=1&&layer.close(l[0].getAttribute("index"))}document.body.appendChild(i);var u=A.elem=r("#"+A.id)[0];t.success&&t.success(u),A.index=a++,A.action(t,u)},s.prototype.action=function(A,e){var t=this;if(A.time&&(o.timer[t.index]=setTimeout(function(){layer.close(t.index)},1e3*A.time)),A.title){var r=e[n]("layermend")[0],i=function(){A.cancel&&A.cancel(),layer.close(t.index)};o.touch(r,i)}var a=function(){var e=this.getAttribute("type");0==e?(A.no&&A.no(),layer.close(t.index)):A.yes?A.yes(t.index):layer.close(t.index)};if(A.btn)for(var d=e[n]("layermbtn")[0].children,s=d.length,l=0;s>l;l++)o.touch(d[l],a);if(A.shade&&A.shadeClose){var c=e[n]("laymshade")[0];o.touch(c,function(){layer.close(t.index,A.end)})}A.end&&(o.end[t.index]=A.end)},A.layer={v:"1.7",index:a,open:function(A){var e=new s(A||{});return e.index},close:function(A){var t=r("#"+d[0]+A)[0];t&&(t.innerHTML="",e.body.removeChild(t),clearTimeout(o.timer[A]),delete o.timer[A],"function"==typeof o.end[A]&&o.end[A](),delete o.end[A])},closeAll:function(){for(var A=e[n](d[0]),t=0,r=A.length;r>t;t++)layer.close(0|A[0].getAttribute("index"))}},"function"==typeof define?define(function(){return layer}):function(){var A=document.scripts,e=A[A.length-1],t=e.src;t.substring(0,t.lastIndexOf("/")+1);e.getAttribute("merge")||!0}()}(window);

